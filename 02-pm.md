_La licence utilisées pour tous les articles MoBlo est_ [_CC BY-NC-ND 4.0_](https://creativecommons.org/licenses/by-nc-nd/4.0/)

[**Revenir à l'Introduction**](/README.md)

[**Revenir au Contexte**](/01-context.md)

# 2.    Population Map \(PM\), la "Carte de la Population"

La première étape dans la mise en place d'un projet BlockChain est la définition du périmètre : quels sont les droits de chaque acteur \(final\) du projet.

## 2.1.    Les Droits

Cette section présente les différents droits possibles qui peuvent être mis en place dans un projet BlockChain.

Les Droits sont définis ci-dessous pour les différents noeuds du réseau :

| Elément de diagramme | Description |
| :---: | :--- |
| ![](/Img/SimpleNode.png) | **Simple Node**,  "Noeud Simple" : Noeud qui n'est pas capable de se connecter à la BlockChain \(_donc noeud hors réseau_\). |
| ![](/Img/OriginNode.png) | **Origin Node**, "Noeud d'Origine" : Créateur de la BlockChain \(_possède naturellement les droits admin_\). |
| ![](/Img/Admin.png) | **Admin** : Peut donner et retirer, à n'importe qui, les droits : issue, mine, activate, admin, connect, send et receive. |
| ![](/Img/Activator.png) | **Activator**, "Activateur" : Peut donner et retirer, à n'importe qui, les droits : connect, send, receive. |
| ![](/Img/Miner.png) | **Miner**, "Mineur" : Noeud qui gère la création de blocks dans le BlockChain. |
| ![](/Img/Connect.png) | **Connect**, "Connection" : Noeud ayant le droit de se connecter à la BlockChain. |
| ![](/Img/Send.png) | **Send**, "Envoi" : Noeud ayant la possibilité d'envoyer de nouvelles transactions dans la BlockChain _\(possède implicitement le droit de se connecter\)_ |
| ![](/Img/Receive.png) | **Receive**, "Reception" : Noeud ayant la possibilité de recevoir des transactions dans la BlockChain _\(possède implicitement le droit de se connecter\)_ |
| ![](/Img/Issue.png) | **Issue** : Noeud ayant le droit de créer de nouveaux Assets dans la BlockChain _\(possède implicitement le droit d'envoi et de réception\)_ |

## 2.2.    Le diagramme PM pour le use case Bibliothèque

Dans le cas de la Bibliothèque, on peut trouver 4 types d'acteurs :

* _Central Library_ : La _Bibliothèque Centrale_

* _Libraries_ : Les _Biblitohèques Secondaires_

* _Readers_ : Les _Lecteurs_

* _Others_ : Les Autres _Acteurs_ \(non reliés au système de Bibliothèques\)

L'ensemble des droits peuvent être représentés par la figure suivante :

![](/Img/PM-Library-Ext.png)_**Figure 2-1 - Population Map - Bibliothèque - étendu**_

Reassons en revue les droits de chaque acteur :

* La _Bibliothèque Centrale_ :

  * C'est le **Créateur** de la BlockChain
  * Il a les droits **Admin** sur la BlockChain
  * Il a les droits **Activateur** sur la BlockChain
  * C'est un **Mineur**
  * Il peut se **Connecter** à la BlockChain
  * Il peut **Envoyer** des transactions sur la BlockChain
  * Il peut **Recevoir** des transactions sur la BlockChain
  * Il a le droit d'**Issue**, c'est à dire de créer de nouveaux Assets dans la BlockChain

* Les autres _Bibliothèques_ :

  * Ils ont le droit **Activateur** sur la BlockChain
  * Ils sont **Mineurs**
  * Ils peuvent se **Connecter** à la BlockChain
  * Ils peuvent **Envoyer** des transactions sur la BlockChain
  * Ils peuvent **Recevoir** des transactions sur la BlockChain

* Les _Lecteurs_ :

  * Ils peuvent se **Connecter** à la BlockChain
  * Ils peuvent **Envoyer** des travsaction sur la BlockChain
  * Ils peuvent **Recevoir** des transactions sur la BlockChain

* Les autres _Acteurs _ \(non rattaché au système de la Bibliothèque\):

  * Ils ne peuvent se connecter !!! Ils ne peuvent donc pas lire les informations.

Dans cette liste, il y a plusieurs droits qui sont redondants.

Si on est en mesure d'écrire dans la BlockChain, alors on a, inévitablement, le droit de se connecter à la BlockChain. De façon similaire, un créateur de BlockChain a les droits Admin et Activation.

_Note: c'est un bon moyen de mettre en avant les rôles, les acteurs techniques, les acteurs métier._

La liste peut donc être réduite de la façon suivante :

* La _Bibliothèque Centrale_ :

  * C'est le **Créateur** de la BlockChain;
  * C'est un **Mineur**;
  * Il peut **Envoyer** des transactions sur la BlockChain;
  * Il peut **Recevoir** des transactions sur la BlockChain;
  * Il a le droit d'**Issue**, c'est à dire de créer de nouveaux Assets dans la BlockChain.

* Les autres _Bibliothèques_ :

  * Ils ont le droit **Activateur** sur la BlockChain;
  * Ils sont **Mineurs**;
  * Ils peuvent **Envoyer** des transactions sur la BlockChain;
  * Ils peuvent **Recevoir** des transactions sur la BlockChain.

* Les _Lecteurs_ :

  * Ils peuvent **Envoyer** des travsaction sur la BlockChain;
  * Ils peuvent **Recevoir** des transactions sur la BlockChain.

* Les autres _Acteurs _ \(non rattaché au système de la Bibliothèque\):

  * Ils ne peuvent se connecter !!! Ils ne peuvent donc pas lire les informations.

Les droits peuvent, donc, être représentés dans la version compacte de la figure suivante :

![](/Img/PM-Library-Compact.png)_**Figure 2-2 - Population Map - Bibliothèque - Compacte**_

## 2.3.    Diagramme PM pour le use case Forum

Dans la cas du Forum, il y a 4 types de personnes :

* Le _Créateur_ du _Forum_

* Les _Editeurs_ \(qui ont le droit de créer de nouveaux sujets\)

* Les _Lecteurs Abonnés_

* Les \(Simples\) _Lecteurs_

L'ensemble des droits peuvent être représentés par la figure suivante :

![](/Img/PM-Forum.png)_**Figure 2-3 - PM - Forum**_

La figure représente la version compacte de la Population Map \(PM\).

La liste des droits est la suivante :

* Le _Créateur_ du forum :
  * C'est le **Créateur** de la BlockChain;
  * Il ets **Mineur**;
  * Il peut **Envoyer** des transactions dans la BlockChain;
  * Il peut **Recevoir** des transactions dans la BlockChain;
  * Il a le droit d'**Issue** dans la BlockChain;
  * Il peut **Recevoir** en utilisant une autre adresse.

_Note : Le Forum possède un mur, une "ligne éditoriale". Une adresse spécifique est crée à ce titre, pour recevoir toutes les publications. On peut imaginer que chaque éditeur possède sa propre adresse de publication et que le forum possède ainsi plusieurs lignes éditoriales. En fait, techniquement, si une adresse peut recevoir des transactions alors elle peut servir de ligne éditoriale. Il faut noter, avant tout, que le Créateur du Forum est représenté par deux status : le premier possède tous les droits \(ce sont ses droits utilisateurs\); le second ne peut que recevoir des transactions \(c'est la ligne éditoriale\)._

_Note : Une adresse qui ne peut que recevoir peut être considérée comme un mur de publication \(une discussion ultérieure compare l'utilisation des transactions à l'utilisation des streams\)._

* Les _Editeurs_ \(qui ont le droit de créer de nouveau sujets\) :

  * Ils peuvent **Envoyer** des transactions dans la BlockChain;
  * Ils peuvent **Recevoir** des transaction dans le BlockChain;
  * Ils ont le droit d'**Issue** dans la BlockChain.

* Les Lecteurs Abonnés :

  * Ils peuvent **Envoyer** des transactions dans la BlockChain;
  * Ils peuvent **Recevoir** des transaction dans le BlockChain.

* Les \(simples\) Lecteurs :

  * Ils peuvent se Connecter et lire \(seulement lire\) les publications.

## 2.4.    Particular case: Multi-Signature

In few cases, it can appear necessary to use multisign addresses. A multisign address is an address which can be signed by \(p\) different pub keys and which has to be signed by \(s\) signatures. Then, a multisign address is noticed with \(s x p\) to inform that \(s\) signatures are needed in the \(p\) possible pub keys.

In Population Map, this is represented with a new box and the signature format.

![](/Img/PM-MultiSig.png)

_**Figure 2-4- PM – MultiSign Addresses**_

In this figure, there are two addresses shared by Alice and Bob:

•    the first can send transactions only with one signature \(Alice’s signature or Bob’s signature\),

•    the second to send transactions need two signatures \(Alice’s signature and Bob’s signature\)

_Notice that few screens have to be used when there are different crossed multisign addresses: when one address is 3 x 6 and, in the same use case, another is 4 x 5, and another is … The goal of the Population is to be clear, then different screens can be used to represent the population._

## 2.5.    Particular case: Import of Private Key

In few cases, it can appear necessary to import the private key of a wallet from to another one. Then the second one receives all the rights of the first one and can act as the first one. It has to be done with a lot of precautions.

In PM, this is represented with a simple arrow.

Figure 5- PM - Import of Private Key

In this figure, Bob can create an Issue in the BlockChain and Alice cannot do it directly, but Alice has the control of a Bob’s wallet address, then Alice can create an Issue using Bob’s rights on this address.

Technically, it means that Alice imported the private key of one of Bob’s addresses.

[**Go to Global Architecture**](/03-ga.md)

